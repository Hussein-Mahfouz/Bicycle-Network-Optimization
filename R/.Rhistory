#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) #-> p
# plot all flows
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha,")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) #-> p
# plot all flows
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha_{ij},")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) #-> p
# plot all flows
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) #-> p
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = 'Comparison of Cycling Uptake Across the City',
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
#save
tmap_save(tm = p, filename = paste0("../data/", chosen_city,"/Plots/facet_desire_lines_all.png"),
width=9, height=4)
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = paste0('Comparison of Cycling Uptake Across', chosen_city),
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
#save
tmap_save(tm = p, filename = paste0("../data/", chosen_city,"/Plots/facet_desire_lines_all.png"),
width=9, height=4)
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = paste0('Comparison of Cycling Uptake Across ', chosen_city),
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
#save
tmap_save(tm = p, filename = paste0("../data/", chosen_city,"/Plots/facet_desire_lines_all.png"),
width=9, height=4)
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = paste0('Comparison of Cycling Uptake Across ', chosen_city),
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
tm_shape(city_geom) +
tm_borders(col = "grey80",
lwd = 1,
alpha = 0.5) +
tm_shape(uptake_plot) +
tm_lines(#title.col = "Ratio: OD Pair Cycling Mode Share / \nGroup Average Cycling Mode Share",
#title.col = TeX("$\\alpha_{ij} = \\phi(c_{ij}) / P(c_{ij})$"),
#title.col = TeX("Performance ($\\alpha_{ij})$"),
title.col = expression(paste("Performance (", alpha[ij],")")),
legend.lwd.show = FALSE,   # remove lineweight legend
#lwd = "perc_cycle",
lwd = 0.7,
#lwd = "ratio",
col = "performance",
breaks = c(0, 0.2, 0.5, 1, 3, 10),
midpoint = 1,     # the color palette will split at this point
style = "fixed",
#palette = "RdYlGn",
palette = c('#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'),
#style = "pretty",
scale = 2) +
tm_facets(by="distance_groups",
nrow = 2,
free.coords=FALSE,
showNA = FALSE) +
tm_layout(fontfamily = 'Georgia',
main.title = paste0('Comparison of Cycling Uptake Across ', chosen_city),
main.title.color = 'grey50',
legend.title.size = 0.8,
frame = FALSE) -> p
#save
tmap_save(tm = p, filename = paste0("../data/", chosen_city,"/Plots/facet_desire_lines_all.png"),
width=9, height=4)
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_jitter(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=expression(paste("Performance (", alpha[ij],")")), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=expression(paste("Performance (", alpha[ij],")")), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Formula: $\\frac{2hc^2}{\\lambda^\\beta}$"), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\boldsymbol{\alpha_{ij}}$ = Cycling Mode Share $\boldsymbol{\phi(c_{ij})}$ / Probability of Cycling $\boldsymbol{P(c_{ij})}$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\boldsymbol{\\alpha_{ij}}$ = Cycling Mode Share $\boldsymbol{\\phi(c_{ij})}$ / Probability of Cycling $\boldsymbol{P(c_{ij})}$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\boldsymbol{\\alpha_{ij}}$ = Cycling Mode Share $\\boldsymbol{\\phi(c_{ij})}$ / Probability of Cycling $\\boldsymbol{P(c_{ij})}$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
ggsave(paste0("../data/", chosen_city,"/Plots/mode_share_increase_vs_performance_smooth_" , chosen_city, ".png"))
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal(axis.text=element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=expression(paste("Performance (", alpha[ij],")")), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
themel(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
ggsave(paste0("../data/", chosen_city,"/Plots/mode_share_increase_vs_performance_smooth_" , chosen_city, ".png"))
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = \nCycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = \linebreakCycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = \newlineCycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ = \newline
Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme(text = element_text(size=10)) +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=TeX("Performance $\\alpha_{ij}$ =
Cycling Mode Share $\\phi(c_{ij})$ / Probability of Cycling $P(c_{ij})$"),
y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=expression(paste("Performance (", alpha[ij],")")), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
uptake_decay %>% filter(!(is.na(distance_groups))) %>%
filter(distance_groups %in% c("0-1 km", "1-2 km", "2-3 km", "3-4 km", "4-5 km", "5-6 km",
"6-7 km", "7-8 km", "8-9 km", "9-10 km")) %>%
ggplot() +
geom_smooth(aes(x = performance, y = (cycle_added_weighted / `All categories: Method of travel to work`) * 100,
color = distance_groups_comb)) +
theme_minimal() +
#scale_colour_brewer(palette = "Blues") +
labs(title = "",
x=expression(paste("Performance (", alpha[ij],")")), y = "Cycling Mode Share Increase (%)",
color = "Distance Between \nOD Pair (km)")
ggsave(paste0("../data/", chosen_city,"/Plots/mode_share_increase_vs_performance_smooth_" , chosen_city, ".png"))
